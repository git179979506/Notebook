## 综述\(Overview\)

### 视图控制器的角色\(The Role of View Controllers\)

视图控制器是app的内部结构的基础。每个app都至少有一个视图控制器，大多数的app有几个。每个视图控制器管理你的app的用户界面的一部分，并且在界面和底层数据之间起交互作用。视图控制器也便于用户界面不同部分之间的转场过渡。

因为他们在你的app中扮演如此重要的角色，视图控制器几乎是你所做的一切的中心。UIViewController类定义了管理视图、处理事件、转场过渡、协调别的部分的方法和属性。你可通过子类添加自定义代码来实现你的app行为。

视图控制器的两种类型：

* 内容视图控制器：管理app中离散的内容块，是你创建的主要类型
* 容器视图控制器：从其他视图控制器（子视图控制器）收集信息，以导航形式呈现或呈现出这些视图控制器内容的不同。

大多数app混合使用这两种视图控制器。

#### 视图管理(View Management)

视图控制器最重要的任务是管理视图的层级。每个视图控制器都有一个唯一的根视图\(root view\)，用来装入视图控制器的所有内容。可以吧需要显示的内容添加到根视图上。图1-1说明了视图控制器和它的视图之间的内置关系。视图控制器一直引用它的根视图，每个视图对它的子视图都是强引用。
![](/assets/Snip20161017_5.png)

![](/assets/Snip20161019_1.png)

内容视图控制器自己管理它的所有视图。容器视图控制器管理它自己拥有的视图和它的子视图控制器的根视图。内容视图控制器不管理子控制器的内容，它只管理根视图，根据容器的设计来确定它的尺寸和位置。图1-2，split view controller 和它的子控制器之间的关系。split view controller 管理它的全部子视图的尺寸和位置，但是子视图控制器管理这些视图的真实内容。
![](/assets/Snip20161019_2.png)

####数据调度(Data Marshaling)
视图控制器担当它管理的视图和app的数据之间的媒介。UIViewController类的属性和方法让你管理你的app的可视化呈现。当你子类化UIViewController，你在子类里添加管理你的数据需要的任何变量。添加自定义变量创建如图1-3的关系，在视图控制器引用数据，并使用视图去呈现这些数据。在前台和后台之前移动数据是你的职责。
![](/assets/Snip20161019_3.png)
